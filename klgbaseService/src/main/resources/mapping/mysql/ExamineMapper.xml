<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jsg.dao.mysql.ExamineMapper">
    <resultMap id="KlgbaseExamineMap" type="com.jsg.entity.Examine">
        <result property="id" column="id"/>
        <result property="catalogId" column="catalog_id"/>
        <result property="xmName" column="xm_name"/>
        <result property="xmCode" column="xm_code"/>
        <result property="xmlxCode" column="xmlx_code"/>
        <result property="jyffCode" column="jyff_code"/>
        <result property="yblxCode" column="yblx_code"/>
        <result property="jyTypeCode" column="jy_type_code"/>
        <result property="cjbw" column="cjbw"/>
        <result property="jgjldwCode" column="jgjldw_code"/>
        <result property="jgzcbsCode" column="jgzcbs_code"/>
        <result property="startCkz" column="start_ckz"/>
        <result property="endCkz" column="end_ckz"/>
        <result property="syz" column="syz"/>
        <result property="jjz" column="jjz"/>
        <result property="createTime" column="create_time" javaType="java.util.Date"/>
        <result property="updateTime" column="update_time" javaType="java.util.Date"/>
        <result property="createUserId" column="create_userId"/>
        <result property="updateUserId" column="update_userId"/>
    </resultMap>

    <delete id="del" parameterType="java.lang.Integer">
        delete from klgbase_examine
        where id = #{examineId}
    </delete>


    <insert id="add" parameterType="com.jsg.entity.Examine" useGeneratedKeys="true" keyProperty="id">
        insert into
		klgbase_examine
		(id,
		catalog_id,
		xm_name ,
		xm_code,
		xmlx_code,
		jyff_code,
		yblx_code,
		jy_type_code,
		cjbw,
		jgjldw_code,
		jgzcbs_code,
		start_ckz,
		end_ckz,
		syz,
		jjz ,
		status,
		create_time,
		update_time,
		create_userId,
		update_userId
		) values (
		#{id},
		#{catalogId},
		#{xmName},
		#{xmCode},
		#{xmlxCode},
		#{jyffCode},
		#{yblxCode},
		#{jyTypeCode},
		#{cjbw},
		#{jgjldwCode},
		#{jgzcbsCode},
		#{startCkz},
		#{endCkz},
		#{syz},
		#{jjz},
		#{status},
		#{createTime},
		#{updateTime},
		#{createUserId},
		#{updateUserId}
        )
    </insert>


    <update id="edi" parameterType="com.jsg.entity.Examine">
        update klgbase_examine
        <set>
            <if test="catalogId != null">
                catalog_id = #{catalogId},
            </if>
            <if test="xmName != null">
                xm_name = #{xmName},
            </if>
            <if test="xmCode != null">
                xm_code = #{xmCode},
            </if>
            <if test="xmlxCode != null">
                xmlx_code = #{xmlxCode},
            </if>
            <if test="jyffCode != null">
                jyff_code = #{jyffCode},
            </if>
            <if test="yblxCode != null">
                yblx_code = #{yblxCode},
            </if>
            <if test="jyTypeCode != null">
                jy_type_code = #{jyTypeCode},
            </if>
            <if test="cjbw != null">
                cjbw = #{cjbw},
            </if>
            <if test="jgjldwCode != null">
                jgjldw_code = #{jgjldwCode},
            </if>
            <if test="startCkz != null">
                start_ckz = #{startCkz},
            </if>
            <if test="endCkz != null">
                end_ckz = #{endCkz},
            </if>
            <if test="syz != null">
                syz = #{syz},
            </if>
            <if test="jjz != null">
                jjz = #{jjz},
            </if>
            <if test="status != null">
                status = #{status},
            </if>
            <if test="createTime != null">
                create_time = #{createTime},
            </if>
            <if test="updateTime != null">
                update_time = #{updateTime},
            </if>
            <if test="createUserId != null">
                create_userId = #{createUserId},
            </if>
            <if test="updateUserId != null">
                update_userId = #{updateUserId},
            </if>
        </set>
        where id = #{id,jdbcType=INTEGER}
    </update>

    <select id="selectByCode" parameterType="string" resultMap="KlgbaseExamineMap">
    select  * from  klgbase_examine t1 where t1.xm_code = #{xmCode}
    </select>


    <select id="list" resultMap="KlgbaseExamineMap">
        select * from klgbase_examine t1 where t1.catalog_id = #{catalogId}
        <if test="queryKey != null ">
            AND concat(xm_name,xm_code) like ('%' #{queryKey} '%')
        </if>

        <if test="xmlxCode != null ">
            AND t1.xmlx_code =#{xmlxCode}
        </if>

        <if test="jyTypeCode != null ">
            AND t1.jy_type_code =#{jyTypeCode}
        </if>

        <if test="yblxCode != null ">
            AND t1.yblx_code =#{yblxCode}
        </if>
    </select>

</mapper>